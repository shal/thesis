\ProvidesPackage{diploma-title}
\newif\if@coursework
\@courseworkfalse
\def \@metatitle {Âèïóñêíà êâàë³ô³êàö³éíà ðîáîòà}
\DeclareOption{master}{ \def \@metatitle {Âèïóñêíà êâàë³ô³êàö³éíà ðîáîòà ìàã³ñòðà} }
\DeclareOption{bachelor}{ \def \@metatitle {Âèïóñêíà êâàë³ô³êàö³éíà ðîáîòà áàêàëàâðà} }
\DeclareOption{specialist}{ \def \@metatitle {Äèïëîìíà ðîáîòà ñïåö³àë³ñòà} }
\DeclareOption{course}{ \@courseworktrue \def \@metatitle {Êóðñîâà ðîáîòà}}
\ProcessOptions

\usepackage{textcase}

\def \author #1#2{
  \def\@author{#1}
  \def\@author@status{#2}
}
\author{}{}

\def\institution #1#2{%
  \def\@institution{#1}%
  \def\@town{#2}
}
\institution{}{}

\def\date#1{\def\@year{#1}}
\date{}

\def \supervisor #1#2{
  \def\@supervisor{#1}
  \def\@supervisor@status{#2}
}
\supervisor{}{}

\def \accepted #1#2#3#4{
  \def\@accepted@department{#1}
  \def\@accepted@protocol{#2}
  \def\@accepted@date{#3}
  \def\@accepted@signature{#4}
}
\accepted{}{}{}{}

\renewenvironment{titlepage}
    {\newpage
     \pagestyle{empty}%
     \setcounter{page}{1}%
     \begin{center}}%
    {\end{center}%
     \newpage}

\def\maketitle{\begin{titlepage}%
  \let\footnotesize\small
  \let\footnoterule\relax
  \let \footnote \thanks
  \@maketitle
  \end{titlepage}%
  \setcounter{footnote}{0}%
  \global\let\thanks\relax
  \global\let\maketitle\relax
  \global\let\@thanks\@empty
  \global\let\@author\@empty
  \global\let\@author@status\@empty
  \global\let\@supervisor\@empty
  \global\let\@supervisor@status\@empty
  \global\let\@date\@empty
  \global\let\@title\@empty
  \global\let\title\relax
  \global\let\author\relax
  \global\let\date\relax
  \global\let\and\relax
}
\def\@maketitle{%
  {\scshape
   \@ifundefined{@institution@office}{\relax}{\@institution@office\par}
   \@institution\par}
  \vspace{\stretch{4}}%
  {\MakeTextUppercase{\bf \@metatitle} \par}
  {\bf íà òåìó: \par}
  {\large\bfseries\scshape \@title \par}%
  \vspace{\stretch{3}}%
  { \raggedleft Виконала \@author@status \\ \@author \par}%
  \vspace{\stretch{1}}%
  {\raggedleft
     Íàóêîâèé êåð³âíèê: \\ \@supervisor@status \\ \@supervisor
   \par}%
  \vspace{\stretch{2}}%
  \ifx\@accepted@signature\@empty
    \vspace{\stretch{1}}%
  \else
    {Ðîáîòó çàñëóõàíî íà çàñ³äàíí³ \@accepted@department \ òà ðåêîìåíäîâàíî äî çàõèñòó. Ïðîòîêîë ¹{\@accepted@protocol} â³ä \@accepted@date.
    \par
    }
    \vspace{\stretch{1}}%
    {
      \@accepted@signature \quad \underline{\hspace{2.5cm}}
      \par
    }
  \fi
  \vspace{\stretch{3}}%
  \@town\ --- \@year} 